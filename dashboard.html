<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VITRIN III | HQ</title>
    <style>
        body { background: #000; color: #FFD700; font-family: monospace; margin: 0; display: flex; align-items: center; justify-content: center; height: 100vh; }
        #panel { display: none; width: 100%; padding: 25px; box-sizing: border-box; }
        input, textarea { width: 100%; background: #080808; border: 1px solid #111; color: #fff; padding: 15px; margin-top: 10px; border-radius: 12px; }
        button { width: 100%; background: #FFD700; color: #000; padding: 18px; border: none; font-weight: 900; border-radius: 12px; margin-top: 15px; cursor: pointer; }
    </style>
</head>
<body>
    <div id="auth">
        <div style="font-size:60px; margin-bottom:20px;">ðŸ‘¤</div>
        <button onclick="auth()">DESBLOQUEAR FACE ID</button>
    </div>

    <div id="panel">
        <h2 style="color:#fff; margin:0;">â—ˆ INJETOR SOBERANO</h2>
        <input type="text" id="t" placeholder="TÃTULO DA PAUTA">
        <textarea id="d" placeholder="DESCRIÃ‡ÃƒO..."></textarea>
        <input type="text" id="i" placeholder="URL DA IMAGEM OU TIKTOK">
        <button onclick="lancar()">INJETAR SINAL</button>
        <button onclick="location.href='index.html'" style="background:#111; color:#444;">VOLTAR</button>
    </div>

    <script>
        async function auth() {
            if (window.PublicKeyCredential) {
                try {
                    const localAuth = await navigator.credentials.create({
                        publicKey: {
                            challenge: new Uint8Array(32),
                            rp: { name: "VITRIN III" },
                            user: { id: new Uint8Array(16), name: "Comandante", displayName: "Comandante" },
                            pubKeyCredParams: [{ alg: -7, type: "public-key" }],
                            authenticatorSelection: { authenticatorAttachment: "platform" }
                        }
                    });
                    if(localAuth) {
                        document.getElementById('auth').style.display = 'none';
                        document.getElementById('panel').style.display = 'block';
                    }
                } catch (e) { alert("Acesso negado."); }
            } else { 
                document.getElementById('auth').style.display = 'none';
                document.getElementById('panel').style.display = 'block';
            }
        }
        function lancar() {
            const data = { title: document.getElementById('t').value, desc: document.getElementById('d').value, img: document.getElementById('i').value, timestamp: Date.now() };
            localStorage.setItem('noticia_manual', JSON.stringify(data));
            alert("SINAL PUBLICADO.");
        }
    </script>
</body>
</html>
