<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VITRIN III | HQ</title>
    <style>
        body { background: #000; color: #FFD700; font-family: 'SF Pro Display', -apple-system, monospace; margin: 0; height: 100vh; display: flex; align-items: center; justify-content: center; }
        #auth-screen { text-align: center; }
        #admin-panel { display: none; width: 100%; padding: 20px; box-sizing: border-box; }
        input, textarea { width: 100%; background: #080808; border: 1px solid #1A1A1A; color: #fff; padding: 15px; margin-top: 10px; border-radius: 10px; }
        button { width: 100%; background: #FFD700; color: #000; padding: 18px; border: none; font-weight: 900; border-radius: 12px; margin-top: 15px; }
    </style>
</head>
<body>
    <div id="auth-screen">
        <div style="font-size: 60px; margin-bottom: 20px;">ðŸ‘¤</div>
        <button onclick="authenticate()">ACESSAR VIA FACE ID</button>
    </div>

    <div id="admin-panel">
        <h2 style="margin: 0 0 20px 0; color:#fff;">INJETOR DE SINAL (PERSONA)</h2>
        <input type="text" id="post-title" placeholder="TÃTULO DA NOTÃCIA">
        <textarea id="post-desc" placeholder="DESCRIÃ‡ÃƒO DETALHADA..."></textarea>
        <input type="text" id="post-img" placeholder="URL DA IMAGEM OU LINK DO TIKTOK">
        <button onclick="publishPost()">INJETAR NA TIMELINE</button>
        <button onclick="location.href='index.html'" style="background: #111; color: #444;">VOLTAR AO FEED</button>
    </div>

    <script>
        async function authenticate() {
            if (window.PublicKeyCredential) {
                try {
                    const auth = await navigator.credentials.create({
                        publicKey: {
                            challenge: new Uint8Array(32), // Random challenge
                            rp: { name: "VITRIN III" },
                            user: { id: new Uint8Array(16), name: "Comandante", displayName: "Comandante" },
                            pubKeyCredParams: [{ alg: -7, type: "public-key" }],
                            authenticatorSelection: { authenticatorAttachment: "platform" }
                        }
                    });
                    if(auth) {
                        document.getElementById('auth-screen').style.display = 'none';
                        document.getElementById('admin-panel').style.display = 'block';
                    }
                } catch (e) { alert("Acesso BiomÃ©trico Negado."); }
            } else { alert("Navegador incompatÃ­vel com Face ID."); }
        }

        function publishPost() {
            const data = {
                title: document.getElementById('post-title').value,
                desc: document.getElementById('post-desc').value,
                img: document.getElementById('post-img').value,
                link: document.getElementById('post-img').value.includes('tiktok.com') ? document.getElementById('post-img').value : '#',
                timestamp: Date.now()
            };
            localStorage.setItem('noticia_manual', JSON.stringify(data));
            alert("SINAL INJETADO PELA PERSONA.");
        }
    </script>
</body>
</html>
